(this["webpackJsonpdesk-work-eyesight-companion"]=this["webpackJsonpdesk-work-eyesight-companion"]||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(6),a=n.n(r),s=(n(12),n(4)),u=n(3),m=n.n(u),o=n(2),f=function(e){return Math.max(e.diff(m()()),0)},d=function(e,t){return m()().add(e,t).add(10,"milliseconds")},j=function(e){var t=e.duration,n=void 0===t?15:t,c=e.unit,r=void 0===c?"minutes":c,a=e.refreshTime,u=void 0===a?33:a,m=e.onTimerEnd,j=void 0===m?function(){}:m,b=Object(i.useRef)(),l=Object(i.useRef)(j),O=Object(i.useState)((function(){var e=d(n,r),t=f(e);return{maxTimeDiff:t,endTime:e,isRunning:!1,currentTimeDiff:t}})),T=Object(s.a)(O,2),v=T[0],x=T[1],h=v.isRunning,k=v.maxTimeDiff,p=v.currentTimeDiff,D=Object(i.useCallback)((function(e){return l.current=e}),[]),C=Object(i.useCallback)((function(){return b.current&&clearInterval(b.current)}),[]),g=Object(i.useCallback)((function(e){C(),b.current=setInterval(e,u)}),[u,C]);return{currentTimeDiff:p,startTimer:Object(i.useCallback)((function(){h||(x((function(e){return Object(o.a)(Object(o.a)({},e),{},{endTime:d(n,r)})})),g((function(){x((function(e){var t=f(e.endTime),n=t<=0;return n&&(C(),l.current()),Object(o.a)(Object(o.a)({},e),{},{currentTimeDiff:t,isRunning:!n})}))})))}),[h,n,r,g,C]),stopTimer:Object(i.useCallback)((function(){C(),x((function(e){var t=d(n,r);return Object(o.a)(Object(o.a)({},e),{},{isRunning:!1,endTime:t,currentTimeDiff:f(t)})}))}),[n,r,C]),setTimerEndCallback:D,isRunning:h,maxTimeDiff:k,resetTimer:function(){x((function(e){var t=d(n,r);return Object(o.a)(Object(o.a)({},e),{},{endTime:t,currentTimeDiff:f(t)})}))}}},b=n(7),l=n.p+"static/media/pop.55cf888a.mp3",O=n(1),T=function(e){var t=e.percentage;return Object(O.jsx)("div",{className:"progress-bar",children:Object(O.jsx)("div",{style:{width:Math.min(Math.max(100*t,0),100)+"%"}})})},v=function(e){var t=e.ticks,n=void 0===t?0:t,i=e.name,c=void 0===i?"":i,r=e.format,a=void 0===r?"mm:ss":r,s=e.onClick,u=void 0===s?function(){}:s;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"timer-display-name",children:c}),Object(O.jsx)("div",{className:"timer-display",onClick:u,children:m.a.utc(n).format(a)})]})};var x=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],r=j({duration:1.5,unit:"hours"}),a=j({duration:15,unit:"minutes"}),u=Object(b.a)(l),o=Object(s.a)(u,1)[0],f=function(){r.startTimer(),a.startTimer()},d=function(){r.stopTimer(),a.stopTimer()};Object(i.useEffect)((function(){a.setTimerEndCallback((function(){o(),a.startTimer()})),r.setTimerEndCallback((function(){o(),d(),c(!0)}))}),[o]),Object(i.useEffect)((function(){var e=m.a.utc(r.currentTimeDiff).format("HH:mm:ss"),t=m.a.utc(a.currentTimeDiff).format("HH:mm:ss");document.title="".concat(e," - ").concat(t)}),[r.currentTimeDiff,a.currentTimeDiff]);var x=Object(O.jsx)("div",{children:n?Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){c(!1),f()},children:"Ready!"})}):Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(v,{format:"HH:mm:ss",name:"work",ticks:r.currentTimeDiff}),Object(O.jsx)(T,{percentage:r.currentTimeDiff/r.maxTimeDiff})]}),Object(O.jsx)("div",{className:"divider"}),Object(O.jsxs)("div",{children:[Object(O.jsx)(v,{format:"mm:ss",name:"look",ticks:a.currentTimeDiff}),Object(O.jsx)(T,{percentage:a.currentTimeDiff/a.maxTimeDiff})]}),Object(O.jsx)("button",{onClick:function(){return f()},children:"Start Timers"}),Object(O.jsx)("button",{onClick:function(){return r.resetTimer(),void a.resetTimer()},children:"Reset Timers"}),Object(O.jsx)("button",{onClick:function(){return d()},children:"Stop Timers"})]})});return Object(O.jsx)("div",{className:"app",children:x})};a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.45cc0f18.chunk.js.map